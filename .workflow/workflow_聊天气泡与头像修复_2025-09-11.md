# 功能：聊天气泡与头像修复

- **需求目标**: 修复聊天消息的对齐与尾部（三角箭头）显示问题，新增“用户/助手”通用头像，采用 grid 分列实现头像与气泡的分离与对齐。
- **技术选型**: React + Tailwind；在 `MessageBubble` 外层使用 grid 两列；新增 `ChatAvatar` 组件（内置 lucide 图标）；用 border 三角实现气泡尾巴。
- **潜在风险**: 渐变尾巴与主体渐变可能出现轻微色差；高 DPI/缩放下可能有锯齿；需在浅/深色模式与不同缩放下检视。

# 任务列表
---

## Phase 1: 设计与样式策略
- [x] **Task 1: 确认消息行使用 grid 两列布局，按角色切换左右顺序**
- [x] **Task 2: 明确尾巴伪元素规则（border 三角、定位、颜色）**

## Phase 2: 组件与样式实现
- [x] **Task 3: 新增 `ChatAvatar` 组件（user/assistant 两种通用头像）**
- [x] **Task 4: 重构 `MessageBubble` 为“头像 + 气泡”的 flex 行，role 控制顺序**
- [x] **Task 5: 调整 `index.css` 中 `.bubble-tail-*` 伪元素：加入 content、垂直居中与颜色修复**

## Phase 3: 验证与交付
- [x] **Task 6: 通过 `demoMessages` 视觉校验（左右、间距、尾巴无缝）**
- [x] **Task 7: 更新本文档状态并准备提交信息**

---

# 功能：桌面端图标与构建修复

## 核心分析
- **需求目标**: 生成并纳入版本控制的多平台应用图标，修复 Windows 构建期 `icon.ico` 缺失导致的 Tauri dev 失败。
- **技术选型**: Tauri v2 CLI `tauri icon`、SVG 源图标、pnpm 脚本、Turbo 任务；Windows 下验证构建。
- **潜在风险**: (1) 本地缺少 MSVC/rc 工具可能导致后续打包报错；(2) 占位图标需后续替换；(3) 若引入其他 TOML 清单需校验语法。

# 任务列表
---

## Phase 1: 图标与脚本
- [x] **Task 1: 创建占位 SVG 源图标 `apps/desktop/assets/icon.svg`**
- [x] **Task 2: 使用 `tauri icon` 生成多平台图标到 `apps/desktop/src-tauri/icons/`**
- [x] **Task 3: 在 `apps/desktop/package.json` 添加 `icon:gen` 与 `icon:regen` 脚本**
- [x] **Task 4: 将 `apps/desktop/src-tauri/icons/` 纳入版本控制**

## Phase 2: 构建与校验
- [x] **Task 5: 清理桌面端 Rust/Node 构建缓存**
- [x] **Task 6: 运行 `pnpm -F @mindforge/desktop dev` 验证构建通过**
- [x] **Task 7: 更新文档与后续替换指引**

---

## 替换与维护指引
- 将品牌源图替换到 `apps/desktop/assets/icon.svg`（建议 1024×1024，保留安全边距）。
- 运行 `pnpm -F @mindforge/desktop run icon:regen` 重新生成多平台图标。
- 将 `apps/desktop/src-tauri/icons/` 变更纳入提交（未在 `.gitignore` 中忽略）。
- 若遇到 Windows 打包期 `rc.exe` 相关错误，请安装 VS Build Tools（含 MSVC 与 Windows SDK）。
